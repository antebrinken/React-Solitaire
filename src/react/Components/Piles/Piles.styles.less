// ----------------------------------
// ColumnPile
.cardContainerColumns {
  margin-top: 30px;
}

// (Removed old .ColumnPile* margin overrides; columns use #columnNPile + transforms below)

.columnPile {
  width: 100%;
  height: 100%;
  position: relative;
}

// ----------------------------------
// Deck and Flipped Piles
.cardPile {
  width: 100%;
  height: 100%;
  position: relative;
  bottom: 100px;
}

.deckPileIndex {
  z-index: 999;
}

.deckPile {
  z-index: 100;
}

.flippedPile {
  margin-top: -200px;
}

// ----------------------------------
// Simple Pile

.cardPileContainer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 0;
  display: flex;
  flex-direction: column;
  align-items: center; // center cards horizontally within column
}

// Fine alignment per column: nudge stacks slightly to the right
// so they sit neatly within the visual column spots. The rightmost
// column receives the largest nudge.
#column1Pile .cardPileContainer { transform: translateX(2px); }
#column2Pile .cardPileContainer { transform: translateX(4px); }
#column3Pile .cardPileContainer { transform: translateX(6px); }
#column4Pile .cardPileContainer { transform: translateX(8px); }
#column5Pile .cardPileContainer { transform: translateX(10px); }
#column6Pile .cardPileContainer { transform: translateX(12px); }
#column7Pile .cardPileContainer { transform: translateX(14px); }

// Adjust goal piles alignment (slightly right, increasing to the right) and lift up by 5px
#goal1Pile .cardPileContainer { transform: translate(8px, -5px); }
#goal2Pile .cardPileContainer { transform: translate(10px, -5px); }
#goal3Pile .cardPileContainer { transform: translate(12px, -5px); }
#goal4Pile .cardPileContainer { transform: translate(14px, -5px); }

// Nudge flipped (trash) pile slightly to the right
#flippedPile .cardPileContainer { transform: translateX(2px); }

// Ant Design breakpoints: xs < 576, sm >= 576, md >= 768
// No breakpoint nudges needed when centered via flex

@media screen and (min-width: 320px) and (max-width: 767px) {
  .cardContainerColumns {
    // Increase vertical fan-out on small screens so lower cards remain visible
    margin-top: 12px;
  }

  .cardPile {
    bottom: 46px;
  }

  .flippedPile {
    margin-top: -102px;
  }

  // Goal piles were reusing the flippedPile class on their container.
  // Neutralize its negative margin on small screens so goal stacks don't sit far below their spots.
  #goal1Pile.flippedPile,
  #goal2Pile.flippedPile,
  #goal3Pile.flippedPile,
  #goal4Pile.flippedPile {
    // move goal containers down by 25px relative to flipped baseline
    // was -92px; now -77px to shift further down
    margin-top: -77px !important;
    // do not shift container horizontally; use inner stack transforms instead
    margin-left: 0 !important;
    // move the entire goal container 15px to the right without affecting flow
    transform: translateX(32px) !important;
    will-change: transform;
  }

  // On very small screens (e.g., iPhone SE), reduce horizontal nudges
  @media screen and (max-width: 375px) {
    // On very small phones, move goals down by 25px relative to flipped baseline
    #goal1Pile.flippedPile,
    #goal2Pile.flippedPile,
    #goal3Pile.flippedPile,
    #goal4Pile.flippedPile {
       margin-top: -61px !important;
    }
    // Align stacks with spot placeholders (iPhone SE)
    #column1Pile .cardPileContainer { transform: translateX(0px) !important; }
    #column2Pile .cardPileContainer { transform: translateX(-1px) !important; }
    #column3Pile .cardPileContainer { transform: translateX(0px) !important; }
    #column4Pile .cardPileContainer { transform: translateX(-2px) !important; }
    #column5Pile .cardPileContainer { transform: translateX(-4px) !important; }
    #column6Pile .cardPileContainer { transform: translateX(-6px) !important; }
    #column7Pile .cardPileContainer { transform: translateX(-8px) !important; }

    // iPhone SE: move stacks 15px right and up 80px
    #goal1Pile .cardPileContainer { transform: translate(15px, -80px) !important; }
    #goal2Pile .cardPileContainer { transform: translate(15px, -80px) !important; }
    #goal3Pile .cardPileContainer { transform: translate(15px, -80px) !important; }
    #goal4Pile .cardPileContainer { transform: translate(15px, -80px) !important; }

    #flippedPile .cardPileContainer { transform: translateX(1px); }

    // Per-column overrides to match spot placeholders (right shift in px)
    #column1Pile .cardPileContainer { transform: translateX(3px) !important; }
    #column2Pile .cardPileContainer { transform: translateX(6px) !important; }
    #column3Pile .cardPileContainer { transform: translateX(8px) !important; }
    #column4Pile .cardPileContainer { transform: translateX(10px) !important; }
    #column5Pile .cardPileContainer { transform: translateX(11px) !important; }
    #column6Pile .cardPileContainer { transform: translateX(13px) !important; }
    #column7Pile .cardPileContainer { transform: translateX(15px) !important; }
  }
}

@media screen and (max-width: 375px) {
  .cardContainerColumns {
    // Extra spacing on the smallest phones (e.g., iPhone SE)
    margin-top: 14px;
  }
  .cardPile {
    bottom: 38px;
  }
  .flippedPile {
    margin-top: -86px;
  }
}



@media screen and (min-width: 376px) and (max-width: 767px) {
  // Columns: nudge slightly left vs desktop base on medium-small phones
  #column1Pile .cardPileContainer { transform: translateX(15px); }
  #column2Pile .cardPileContainer { transform: translateX(0px); }
  #column3Pile .cardPileContainer { transform: translateX(15px); }
  #column4Pile .cardPileContainer { transform: translateX(6px); }
  #column5Pile .cardPileContainer { transform: translateX(8px); }
  #column6Pile .cardPileContainer { transform: translateX(10px); }
  #column7Pile .cardPileContainer { transform: translateX(12px); }

  #goal1Pile .cardPileContainer { transform: translate(15px, -30px); }
  #goal2Pile .cardPileContainer { transform: translate(15px, -30px); }
  #goal3Pile .cardPileContainer { transform: translate(15px, -30px); }
  #goal4Pile .cardPileContainer { transform: translate(15px, -30px); }
}
